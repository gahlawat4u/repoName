package test.com.gms.xms.integration.startrack;

import com.gms.delivery.startrack.service.StarTrackTrackingService;
import com.gms.delivery.startrack.xmlpi.tracking.response.GetConsignmentDetailResponse;

public class StarTrackTrackingServiceTest {
    public static void main(String[] args) {
        String xmlResponse = "<SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\"><SOAP-ENV:Header/><SOAP-ENV:Body><ns0:getConsignmentDetailResponse xmlns:ns0=\"http://startrackexpress/Common/actions/externals/Consignment/v1\"><ns0:consignment billedInd=\"false\" carrierCode=\"\" consolidate=\"false\" consolidateSendersReference=\"false\" deliveryDepot=\"ARM\" despatchDate=\"2016-06-06\" despatchDepot=\"BRS\" despatchNotification=\"false\" driverCube=\"0.015\" etaDate=\"2016-06-07T23:59:00+10:00\" id=\"2YAZ50000018\" lastStatusDateTime=\"2016-06-07T12:09:05+10:00\" lock_seq=\"8\" payerAccountNumber=\"10145213\" payerType=\"O\" podSignatoryName=\"SCHAEFER\" podSignature=\"iVBORw0KGgoAAAANSUhEUgAAAU0AAABsCAAAAADLHL8/AAADDklEQVR42u3d3W7sIAxF4fX+L011pNNqAjYBQmZiz+aqP+kgvjqAnSihqO1riECa0pSmmjSlKU01aUpTmtJUk6Y0pfnvePHv00Se+zTR7LBPE8210nymJtoHxNQkvSZFmjdovmGsQbdh0syvSUmv+caJU5o60aX5+Vzodk2KNKX5UM2ouSunA6M9GoXmkibHQ6S5U/M95eLUmm1wIswVzRbvDZzJNUeDE2nO7oiQ5kXNJjjv1AyMOahZc3LjpjuTJtLcp4n33fFLaYbRDHyBmaETvebkvqiKHJp+MPZoKdK8pnkIzsXYHDmJQ9+C90ZNGNmSfonmYb+E81nM5PzS7O04D5pwlvLnmzaXNa1BczwGVjRD34Dn5T50bAc08far36hJOdX8b4qdc1LbSNP95WuEdjVbRaZmniyazhWhGsbRdMvLFGma0fZ7hDWfuuXlSyf682eBac2m/DGiOXwHE7Fn1FFN56LGgGa71HfTqdCrk6lJm9lgb0ixL3Lg7Mg5y6aIPZ3OadKO3jwGB8nThH4iFGVt8jVfxwZ25ExqOpn+XzkkemiWTvbH3wbdHyr2nQucVDwwkgHih2ZP8+UEBc4vXuBXkqg+AWtdI5lmvdWeq0bSWWGMAgrGMk9sTEvzbOG1l+sZTZzCCLk064V8JHUxkiT6/eDNpW4ROqhmtaxwZomXctrwr/OndTMjwTN31n+Lm+iMpTO0tRQIjXlBk2qWZKHrNpHiOzWpTeaHjbHzJzLmqiZNWrMwbDjfq36DZpVks1biMa9zEBhzTZPR0s+kZufySQbNwb9htW8wqy1RMZemu027GJoSgHulM68mZaem/ZOoD17iQZiHCohbtsqkuS/32/Zviau5rywRPSWX5sM078WU5sZZM8HT/lBoPklToblPE4o092he2F9Ls5h3u2zrNsMTZ+c0D21zr1+neWuv0tSJLs38mjmeeo4wpSnNTqdZ3m4gzXSrUJoXbzxBM89bTPh4t5nepfVpzVzvJeOj/WZ7x9vHNIPef/BMzZxNmtKUpjTVpCnNHO0HjXQWcGxoy4YAAAAASUVORK5CYII=\" requestService=\"false\" source=\"Ext\" status=\"DF\" totalQuantity=\"1\" totalVolume=\"1.0E-3\" totalWeight=\"3.0E0\" type=\"T\" unitType=\"CTN\" userName=\"\"><ns1:references lock_seq=\"0\" name=\"REF1\" printOnLabel=\"true\" priority=\"1\" type=\"S\" value=\"SO24546\" xmlns:ns1=\"http://startrackexpress/Common/FreightProcessing/v1\"/><ns2:references lock_seq=\"0\" name=\"REF2\" printOnLabel=\"false\" priority=\"10\" type=\"R\" value=\"SO24546\" xmlns:ns2=\"http://startrackexpress/Common/FreightProcessing/v1\"/><ns3:serviceCode xmlns:ns3=\"http://startrackexpress/Common/FreightProcessing/v1\">EXP</ns3:serviceCode><ns1:receiver shortName=\"\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns0=\"http://startrackexpress/Common/actions/externals/Consignment/v1\" xmlns:ns1=\"http://startrackexpress/Common/FreightProcessing/v1\"><ns1:name>MONKS HEALTHMART</ns1:name><ns1:name>CHRIS DAVIS</ns1:name><ns1:contactDetails><ns2:phoneNumber xmlns:ns2=\"http://startrackexpress/Common/Primitives/v1\">0267726176</ns2:phoneNumber><ns2:mobileNumber xmlns:ns2=\"http://startrackexpress/Common/Primitives/v1\">0000000000</ns2:mobileNumber><ns2:address xmlns:ns2=\"http://startrackexpress/Common/Primitives/v1\"><ns2:addressLine>SHOP 12</ns2:addressLine><ns2:addressLine>90-96 MARSH STREET</ns2:addressLine><ns2:suburbOrLocation>ARMIDALE</ns2:suburbOrLocation><ns2:state>NSW</ns2:state><ns2:postCode>2350</ns2:postCode><ns2:country/><ns2:stateCode>2</ns2:stateCode></ns2:address></ns1:contactDetails></ns1:receiver><ns1:sender shortName=\"GREEN LIVING AUSTRALIA\" xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns0=\"http://startrackexpress/Common/actions/externals/Consignment/v1\" xmlns:ns1=\"http://startrackexpress/Common/FreightProcessing/v1\"><ns1:name>GREEN LIVING AUSTRALIA</ns1:name><ns1:contactDetails><ns2:phoneNumber xmlns:ns2=\"http://startrackexpress/Common/Primitives/v1\">0738082576</ns2:phoneNumber><ns2:address xmlns:ns2=\"http://startrackexpress/Common/Primitives/v1\"><ns2:addressLine>UNIT 23/25 PARRAMATTA RD</ns2:addressLine><ns2:suburbOrLocation>UNDERWOOD</ns2:suburbOrLocation><ns2:state>QLD</ns2:state><ns2:postCode>4119</ns2:postCode><ns2:country/><ns2:stateCode>4</ns2:stateCode></ns2:address></ns1:contactDetails></ns1:sender><ns4:despatchLocationCode xmlns:ns4=\"http://startrackexpress/Common/FreightProcessing/v1\">2YA</ns4:despatchLocationCode><ns5:statusHistory dateTime=\"2016-06-07T12:09:05+10:00\" signatoryName=\"SCHAEFER R\" status=\"DF\" xmlns:ns5=\"http://startrackexpress/Common/FreightProcessing/v1\"><ns5:user user=\"ARM40\"/></ns5:statusHistory><ns6:statusHistory dateTime=\"2016-06-07T11:07:42+10:00\" signatoryName=\"\" status=\"OD\" xmlns:ns6=\"http://startrackexpress/Common/FreightProcessing/v1\"><ns6:user user=\"ARM40\"/></ns6:statusHistory><ns7:statusHistory dateTime=\"2016-06-06T14:04:08+10:00\" signatoryName=\"\" status=\"IT\" xmlns:ns7=\"http://startrackexpress/Common/FreightProcessing/v1\"><ns7:user user=\"\"/></ns7:statusHistory><ns8:trackingEvents eventDateTime=\"2016-06-07T12:09:05+10:00\" id=\"2YAZ50000018\" quantityDelivered=\"1\" quantityOnHand=\"1\" scanningDepot=\"TAM\" signatoryName=\"SCHAEFER R\" xmlns:ns8=\"http://startrackexpress/Common/FreightProcessing/v1\"><ns8:scanner depotCode=\"TAM\" id=\"14921242760\"/><ns8:scanMode>S</ns8:scanMode><ns8:transitState>D</ns8:transitState></ns8:trackingEvents><ns9:trackingEvents eventDateTime=\"2016-06-07T11:07:42+10:00\" id=\"2YAZ50000018\" quantityDelivered=\"1\" quantityOnHand=\"1\" scanningDepot=\"TAM\" signatoryName=\"\" xmlns:ns9=\"http://startrackexpress/Common/FreightProcessing/v1\"><ns9:scanner depotCode=\"TAM\" id=\"14921242760\"/><ns9:scanMode>S</ns9:scanMode><ns9:transitState>M</ns9:transitState></ns9:trackingEvents><ns10:lineItems cube=\"0.001\" lineNumber=\"1\" packagingType=\"CTN\" quantity=\"1\" unitType=\"CTN\" weight=\"3.0\" xmlns:ns10=\"http://startrackexpress/Common/FreightProcessing/v1\"><ns10:freightItem currentTransitState=\"M\" etaDttm=\"2016-06-07T23:59:00+10:00\" id=\"2YAZ50000018EXP00001\" lock_seq=\"8\" measuredCube=\"0.0\" measuredWeight=\"0.0\" status=\"DF\"><ns10:freightItemTrackingEvent eventDateTime=\"2016-06-07T10:48:26+10:00\" scanMode=\"S\" transitState=\"M\"><ns10:scanner depotCode=\"TAM\"/></ns10:freightItemTrackingEvent><ns10:freightItemTrackingEvent eventDateTime=\"2016-06-07T04:15:46+10:00\" scanMode=\"T\" transitState=\"F\"><ns10:scanner depotCode=\"TAM\"/></ns10:freightItemTrackingEvent><ns10:freightItemTrackingEvent eventDateTime=\"2016-06-06T17:39:35+10:00\" scanMode=\"Q\" transitState=\"F\"><ns10:scanner depotCode=\"BRS\"/></ns10:freightItemTrackingEvent><ns10:freightItemTrackingEvent eventDateTime=\"2016-06-06T14:04:08+10:00\" scanMode=\"S\" transitState=\"P\"><ns10:scanner depotCode=\"BRS\"/></ns10:freightItemTrackingEvent><ns10:statusHistory dateTime=\"2016-06-07T12:09:05+10:00\" status=\"DF\"><ns10:user/></ns10:statusHistory><ns10:statusHistory dateTime=\"2016-06-06T14:04:08+10:00\" status=\"IT\"><ns10:user user=\"11702\"/></ns10:statusHistory><ns10:printStatus printedInd=\"true\" reprintedInd=\"false\"/></ns10:freightItem></ns10:lineItems><ns1:image xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns0=\"http://startrackexpress/Common/actions/externals/Consignment/v1\" xmlns:ns1=\"http://startrackexpress/Common/FreightProcessing/v1\"><ns2:creationDateTime xmlns:ns2=\"http://startrackexpress/Common/Imaging/v1\">2016-06-07T00:00:00+10:00</ns2:creationDateTime><ns1:type>P</ns1:type><ns1:signatoryName/><ns1:cartridge>16067Ejf9</ns1:cartridge><ns1:frame>00174</ns1:frame><ns1:consignmentId>2YAZ50000018</ns1:consignmentId><ns1:isPOD>true</ns1:isPOD></ns1:image></ns0:consignment></ns0:getConsignmentDetailResponse></SOAP-ENV:Body></SOAP-ENV:Envelope>";
        StarTrackTrackingService trackingService = new StarTrackTrackingService();
        GetConsignmentDetailResponse response;
        try {
            response = trackingService.parseResponse(xmlResponse);
            System.out.println("Service code: " + response.getConsignment().getServiceCode());
        } catch (Exception e) {
            // TODO Auto-generated catch block
            e.printStackTrace();
        }
    }
}
