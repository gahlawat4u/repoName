import com.gms.delivery.tnt.xmlpi.label.request.LabelRequest;
import com.gms.delivery.tnt.xmlpi.label.response.LabelResponse;
import com.gms.delivery.tnt.xmlpi.shipping.request.EShipper;
import com.gms.delivery.tnt.xmlpi.shipping.response.Document;
import com.gms.delivery.tnt.xmlpi.shipping.response.Error;
import com.gms.delivery.tnt.xmlpi.tracking.request.TrackRequest;
import com.gms.delivery.tnt.xmlpi.tracking.response.TrackResponse;
import com.gms.xms.common.utils.AppUtils;

import javax.xml.bind.JAXBException;

public class TntTrackingServiceTest {
    public static void main(String[] args) throws JAXBException {
        // Request parsing
        String xmlReq = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><ESHIPPER>	<LOGIN>		<COMPANY>YOUR USERID</COMPANY>		<PASSWORD>YOUR PASSWORD</PASSWORD>		<APPID>IN</APPID>		<APPVERSION>2</APPVERSION>	</LOGIN>	<CONSIGNMENTBATCH>		<SENDER>			<COMPANYNAME>Sender Co</COMPANYNAME>			<STREETADDRESS1>TEST DO NOT COLLECT1</STREETADDRESS1>			<STREETADDRESS2>TEST DO NOT COLLECT2</STREETADDRESS2>			<STREETADDRESS3>TEST DO NOT COLLECT3</STREETADDRESS3>			<CITY>Atherstone</CITY>			<PROVINCE>Warwickshire</PROVINCE>			<POSTCODE>CV9 2ry</POSTCODE>			<COUNTRY>GB</COUNTRY>			<ACCOUNT>987654321</ACCOUNT>			<VAT/>			<CONTACTNAME>Mr Contact</CONTACTNAME>			<CONTACTDIALCODE>01827</CONTACTDIALCODE>			<CONTACTTELEPHONE>717733</CONTACTTELEPHONE>			<CONTACTEMAIL>contact@tnt.com</CONTACTEMAIL>			<COLLECTION>				<COLLECTIONADDRESS>					<COMPANYNAME>Collection Name</COMPANYNAME>					<STREETADDRESS1>TEST DO NOT COLLECT4</STREETADDRESS1>					<STREETADDRESS2>TEST DO NOT COLLECT5</STREETADDRESS2>					<STREETADDRESS3>TEST DO NOT COLLECT6</STREETADDRESS3>					<CITY>Atherstone</CITY>					<PROVINCE>Warwickshire</PROVINCE>					<POSTCODE>CV9 1TT</POSTCODE>					<COUNTRY>GB</COUNTRY>					<VAT/>					<CONTACTNAME>Mr Contact</CONTACTNAME>					<CONTACTDIALCODE>00000</CONTACTDIALCODE>					<CONTACTTELEPHONE>700005</CONTACTTELEPHONE>					<CONTACTEMAIL>contact@tnt.com</CONTACTEMAIL>				</COLLECTIONADDRESS>				<SHIPDATE>27/01/2016</SHIPDATE>				<PREFCOLLECTTIME>					<FROM>09:00</FROM>					<TO>10:00</TO>				</PREFCOLLECTTIME>				<ALTCOLLECTTIME>					<FROM>11:00</FROM>					<TO>12:00</TO>				</ALTCOLLECTTIME>				<COLLINSTRUCTIONS>use rear gate </COLLINSTRUCTIONS>			</COLLECTION>		</SENDER>			<CONSIGNMENT>			<CONREF>ref2</CONREF>			<DETAILS>				<RECEIVER>					<COMPANYNAME>Receiver Name</COMPANYNAME>					<STREETADDRESS1>TEST DO NOT COLLECT7</STREETADDRESS1>					<STREETADDRESS2>TEST DO NOT COLLECT8</STREETADDRESS2>  							<STREETADDRESS3>TEST DO NOT COLLECT9</STREETADDRESS3>					<CITY>Amsterdam</CITY>					<PROVINCE/>					<POSTCODE>1100 AA</POSTCODE>					<COUNTRY>NL</COUNTRY>					<VAT>7668880</VAT>					<CONTACTNAME>Mr Frank</CONTACTNAME>					<CONTACTDIALCODE>1672</CONTACTDIALCODE>					<CONTACTTELEPHONE>987432</CONTACTTELEPHONE>					<CONTACTEMAIL>email@mail.com</CONTACTEMAIL>				</RECEIVER>				<DELIVERY>					<COMPANYNAME>Delivery Name</COMPANYNAME>					<STREETADDRESS1>TEST DO NOT COLLECT10</STREETADDRESS1>					<STREETADDRESS2>TEST DO NOT COLLECT11</STREETADDRESS2>  							<STREETADDRESS3>TEST DO NOT COLLECT12</STREETADDRESS3>					<CITY>Amsterdam</CITY>					<PROVINCE/>					<POSTCODE>1100 AA</POSTCODE>					<COUNTRY>NL</COUNTRY>					<VAT>7668880</VAT>					<CONTACTNAME>Mr Frank</CONTACTNAME>					<CONTACTDIALCODE>1672</CONTACTDIALCODE>					<CONTACTTELEPHONE>987432</CONTACTTELEPHONE>					<CONTACTEMAIL>email@mail.com</CONTACTEMAIL>				</DELIVERY>				<CUSTOMERREF>DISKS</CUSTOMERREF>				<CONTYPE>N</CONTYPE>				<PAYMENTIND>S</PAYMENTIND>				<ITEMS>2</ITEMS>				<TOTALWEIGHT>1.4</TOTALWEIGHT>				<TOTALVOLUME>1.0</TOTALVOLUME>				<CURRENCY>GBP</CURRENCY>				<GOODSVALUE>180.00</GOODSVALUE>				<INSURANCEVALUE>150.00</INSURANCEVALUE>				<INSURANCECURRENCY>GBP</INSURANCECURRENCY>				<SERVICE>15N</SERVICE>				<OPTION>PR</OPTION>				<DESCRIPTION>assorted office accessories</DESCRIPTION>				<DELIVERYINST>ggg</DELIVERYINST>				<PACKAGE>					<ITEMS>3</ITEMS>					<DESCRIPTION>box 1</DESCRIPTION>					<LENGTH>0.1</LENGTH>					<HEIGHT>0.2</HEIGHT>					<WIDTH>0.3</WIDTH>					<WEIGHT>0.4</WEIGHT>					<ARTICLE>						<ITEMS>1</ITEMS>						<DESCRIPTION>paperclips</DESCRIPTION>						<WEIGHT>.03</WEIGHT>						<INVOICEVALUE>2.30</INVOICEVALUE>						<INVOICEDESC>metal paperclips</INVOICEDESC>						<HTS>ABC</HTS>						<COUNTRY>GB</COUNTRY>					</ARTICLE>				</PACKAGE>				<PACKAGE>					<ITEMS>3</ITEMS>					<DESCRIPTION>box 2</DESCRIPTION>					<LENGTH>0.5</LENGTH>					<HEIGHT>0.6</HEIGHT>					<WIDTH>0.7</WIDTH>					<WEIGHT>0.8</WEIGHT>					<ARTICLE>						<ITEMS>1</ITEMS>						<DESCRIPTION>paperclips</DESCRIPTION>						<WEIGHT>.03</WEIGHT>						<INVOICEVALUE>2.30</INVOICEVALUE>						<INVOICEDESC>metal paperclips</INVOICEDESC>						<HTS>ABC</HTS>						<COUNTRY>GB</COUNTRY>					</ARTICLE>				</PACKAGE>			</DETAILS>		</CONSIGNMENT>	</CONSIGNMENTBATCH>	<ACTIVITY>		<CREATE>			<CONREF>ref2</CONREF>		</CREATE>		<RATE>			<CONREF>ref2</CONREF>		</RATE>		<BOOK>			<CONREF>ref2</CONREF>		</BOOK>		<PRINT>			<CONNOTE>				<CONREF>ref2</CONREF>			</CONNOTE>			<LABEL>				<CONREF>ref2</CONREF>			</LABEL>			<MANIFEST>				<CONREF>ref2</CONREF>			</MANIFEST>			<INVOICE>				<CONREF>ref2</CONREF>			</INVOICE>		</PRINT>	</ACTIVITY></ESHIPPER>";
        xmlReq = "<?xml version=\"1.0\"?><ESHIPPER><LOGIN><COMPANY>Agl</COMPANY><PASSWORD>essxms2014</PASSWORD><APPID>IN</APPID><APPVERSION>2.2</APPVERSION></LOGIN><CONSIGNMENTBATCH><SENDER><COMPANYNAME>PM PARTNERS GROUP</COMPANYNAME><STREETADDRESS1>LEVEL 2, BANK OF NSW HOUSE</STREETADDRESS1><STREETADDRESS2>228 PITT STREET</STREETADDRESS2><CITY>SYDNEY</CITY><PROVINCE>NSW</PROVINCE><POSTCODE>2000</POSTCODE><COUNTRY>AU</COUNTRY><ACCOUNT>30000859</ACCOUNT><CONTACTNAME>CIARA EGAN</CONTACTNAME><CONTACTDIALCODE>02928</CONTACTDIALCODE><CONTACTTELEPHONE>60000 </CONTACTTELEPHONE><CONTACTEMAIL>accounts@pm-partners.com.au</CONTACTEMAIL><COLLECTION><COLLECTIONADDRESS><COMPANYNAME>PM PARTNERS GROUP</COMPANYNAME><STREETADDRESS1>LEVEL 2, BANK OF NSW HOUSE</STREETADDRESS1><STREETADDRESS2>228 PITT STREET</STREETADDRESS2><CITY>SYDNEY</CITY><PROVINCE>NSW</PROVINCE><POSTCODE>2000</POSTCODE><COUNTRY>AU</COUNTRY><CONTACTNAME>CIARA EGAN</CONTACTNAME><CONTACTDIALCODE>02928</CONTACTDIALCODE><CONTACTTELEPHONE>60000 </CONTACTTELEPHONE><CONTACTEMAIL>ACCOUNTS@PM-PARTNERS.COM.AU</CONTACTEMAIL></COLLECTIONADDRESS><SHIPDATE>18/01/2016</SHIPDATE><PREFCOLLECTTIME><FROM>1430</FROM><TO>1700</TO></PREFCOLLECTTIME><COLLINSTRUCTIONS>Front Desk</COLLINSTRUCTIONS></COLLECTION></SENDER><CONSIGNMENT><CONREF>CE</CONREF><DETAILS><RECEIVER><COMPANYNAME>GANESAN PILLAY</COMPANYNAME><STREETADDRESS1>NO 5, JALAN SS3/10</STREETADDRESS1><STREETADDRESS2>47300 PETALING JAYA</STREETADDRESS2><CITY>selangor</CITY><PROVINCE/><POSTCODE/><COUNTRY>MY</COUNTRY><CONTACTNAME>GANESAN PILLAY</CONTACTNAME><CONTACTDIALCODE>+6016</CONTACTDIALCODE><CONTACTTELEPHONE>3323873 </CONTACTTELEPHONE><ACCOUNT/></RECEIVER><DELIVERY><COMPANYNAME>GANESAN PILLAY</COMPANYNAME><STREETADDRESS1>NO 5, JALAN SS3/10</STREETADDRESS1><STREETADDRESS2>47300 PETALING JAYA</STREETADDRESS2><CITY>selangor</CITY><PROVINCE/><POSTCODE/><COUNTRY>MY</COUNTRY><CONTACTNAME>GANESAN PILLAY</CONTACTNAME><CONTACTDIALCODE>+6016</CONTACTDIALCODE><CONTACTTELEPHONE>3323873 </CONTACTTELEPHONE></DELIVERY><CUSTOMERREF>CE</CUSTOMERREF><CONTYPE>N</CONTYPE><PAYMENTIND>S</PAYMENTIND><ITEMS>1</ITEMS><TOTALWEIGHT>1</TOTALWEIGHT><TOTALVOLUME>0.001188</TOTALVOLUME><CURRENCY>AUD</CURRENCY><GOODSVALUE>150</GOODSVALUE><SERVICE>15N</SERVICE><DESCRIPTION>Business Cards</DESCRIPTION><DELIVERYINST/><PACKAGE><ITEMS>1</ITEMS><DESCRIPTION>Customer packaging</DESCRIPTION><LENGTH>0.18</LENGTH><HEIGHT>0.06</HEIGHT><WIDTH>0.11</WIDTH><WEIGHT>1</WEIGHT></PACKAGE></DETAILS></CONSIGNMENT></CONSIGNMENTBATCH><ACTIVITY><CREATE><CONREF>CE</CONREF></CREATE><SHIP><CONREF>CE</CONREF></SHIP></ACTIVITY></ESHIPPER>";
        EShipper shipper = AppUtils.xmlString2Object(xmlReq, EShipper.class);
        System.out.println(shipper.getLOGIN().getCOMPANY());
        // Response parsing
        String xmlRes = "<?xml version=\"1.0\" standalone=\"yes\"?><document><ERROR><CODE>312</CODE><DESCRIPTION>Unable to determine delivery depot from receiver address </DESCRIPTION><SOURCE>Sender: CE</SOURCE></ERROR><ERROR><CODE>324</CODE><DESCRIPTION>Unable to determine delivery depot from delivery address </DESCRIPTION><SOURCE>Sender: CE</SOURCE></ERROR></document>";
        Document response = AppUtils.xmlString2Object(xmlRes, Document.class);
        parseResponse(response);
        xmlRes = "<?xml version=\"1.0\" standalone=\"yes\"?><document><CREATE><CONREF>Q1465-15 PO 3172</CONREF><CONNUMBER>GE879058956AU</CONNUMBER><SUCCESS>Y</SUCCESS></CREATE><RATE></RATE><SHIP><CONSIGNMENT><CONREF>Q1465-15 PO 3172</CONREF><CONNUMBER>GE879058956AU</CONNUMBER><SUCCESS>Y</SUCCESS></CONSIGNMENT></SHIP></document>";
        response = AppUtils.xmlString2Object(xmlRes, Document.class);
        parseResponse(response);
        // Tracking request parsing.
        String xmlTrackingReq = "<?xml version=\"1.0\"?><TrackRequest locale=\"en_US\" version=\"3.1\"><SearchCriteria marketType=\"International\" originCountry=\"AU\"><ConsignmentNumber>GE878927678AU</ConsignmentNumber></SearchCriteria><LevelOfDetail><Complete destinationAddress=\"true\" originAddress=\"true\" package=\"true\" shipment=\"true\"/><POD format=\"URL\"/></LevelOfDetail></TrackRequest>";
        TrackRequest trackRequest = AppUtils.xmlString2Object(xmlTrackingReq, TrackRequest.class);
        System.out.println(trackRequest.getSearchCriteria().getMarketType());
        // Tracking response parsing.
        String xmlTrackingRes = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><TrackResponse><Consignment access=\"full\"><ConsignmentNumber>878927678</ConsignmentNumber><OriginDepot>SYD</OriginDepot><OriginDepotName><![CDATA[Sydney]]></OriginDepotName><CustomerReference><![CDATA[13100089]]></CustomerReference><CollectionDate format=\"YYYYMMDD\" >20160115</CollectionDate><DeliveryTown><![CDATA[TSUEN WAN]]></DeliveryTown><DeliveryDate format=\"YYYYMMDD\" >20160118</DeliveryDate><DeliveryTime format=\"HHMM\" >1025</DeliveryTime><Signatory><![CDATA[mr liu]]></Signatory><SummaryCode>DEL</SummaryCode><DestinationCountry><CountryCode>HK</CountryCode><CountryName><![CDATA[Hong Kong]]></CountryName></DestinationCountry><OriginCountry><CountryCode>AU</CountryCode><CountryName><![CDATA[Australia]]></CountryName></OriginCountry><TermsOfPaymentAccount><Number><![CDATA[30000859]]></Number><CountryCode>AU</CountryCode></TermsOfPaymentAccount><SenderAccount><Number><![CDATA[30000859]]></Number><CountryCode>AU</CountryCode></SenderAccount><PieceQuantity>4</PieceQuantity><StatusData><StatusCode>OK</StatusCode><StatusDescription><![CDATA[Shipment Delivered In Good Condition.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160118</LocalEventDate><LocalEventTime format=\"HHMM\" >1025</LocalEventTime><Depot>KF7</Depot><DepotName><![CDATA[Kwai Fong Depot]]></DepotName></StatusData><StatusData><StatusCode>OD</StatusCode><StatusDescription><![CDATA[Out For Delivery.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160118</LocalEventDate><LocalEventTime format=\"HHMM\" >0926</LocalEventTime><Depot>KF7</Depot><DepotName><![CDATA[Kwai Fong Depot]]></DepotName></StatusData><StatusData><StatusCode>IR</StatusCode><StatusDescription><![CDATA[Shipment Received At Tnt Location]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160118</LocalEventDate><LocalEventTime format=\"HHMM\" >0742</LocalEventTime><Depot>KF7</Depot><DepotName><![CDATA[Kwai Fong Depot]]></DepotName></StatusData><StatusData><StatusCode>TR</StatusCode><StatusDescription><![CDATA[Shipment In Transit.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160117</LocalEventDate><LocalEventTime format=\"HHMM\" >0814</LocalEventTime><Depot>HKG</Depot><DepotName><![CDATA[Hong Kong]]></DepotName></StatusData><StatusData><StatusCode>AS</StatusCode><StatusDescription><![CDATA[Shipment Received At Transit Point.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160117</LocalEventDate><LocalEventTime format=\"HHMM\" >0800</LocalEventTime><Depot>HKG</Depot><DepotName><![CDATA[Hong Kong]]></DepotName></StatusData><StatusData><StatusCode>TR</StatusCode><StatusDescription><![CDATA[Shipment In Transit.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160117</LocalEventDate><LocalEventTime format=\"HHMM\" >0734</LocalEventTime><Depot>HKG</Depot><DepotName><![CDATA[Hong Kong]]></DepotName></StatusData><StatusData><StatusCode>AS</StatusCode><StatusDescription><![CDATA[Shipment Received At Transit Point.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160117</LocalEventDate><LocalEventTime format=\"HHMM\" >0733</LocalEventTime><Depot>HKG</Depot><DepotName><![CDATA[Hong Kong]]></DepotName></StatusData><StatusData><StatusCode>IS</StatusCode><StatusDescription><![CDATA[Shipment Received At Tnt Location]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160117</LocalEventDate><LocalEventTime format=\"HHMM\" >0729</LocalEventTime><Depot>HKG</Depot><DepotName><![CDATA[Hong Kong]]></DepotName></StatusData><StatusData><StatusCode>LAO</StatusCode><StatusDescription><![CDATA[Delay. Recovery Action Underway]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160117</LocalEventDate><LocalEventTime format=\"HHMM\" >0420</LocalEventTime><Depot>HKG</Depot><DepotName><![CDATA[Hong Kong]]></DepotName></StatusData><StatusData><StatusCode>RC</StatusCode><StatusDescription><![CDATA[Released By Customs]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160117</LocalEventDate><LocalEventTime format=\"HHMM\" >0212</LocalEventTime><Depot>HKG</Depot><DepotName><![CDATA[Hong Kong]]></DepotName></StatusData><StatusData><StatusCode>LAO</StatusCode><StatusDescription><![CDATA[Delay. Recovery Action Underway]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160116</LocalEventDate><LocalEventTime format=\"HHMM\" >2130</LocalEventTime><Depot>HKG</Depot><DepotName><![CDATA[Hong Kong]]></DepotName></StatusData><StatusData><StatusCode>OS</StatusCode><StatusDescription><![CDATA[Shipment In Transit.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160116</LocalEventDate><LocalEventTime format=\"HHMM\" >1140</LocalEventTime><Depot>SYD</Depot><DepotName><![CDATA[Sydney]]></DepotName></StatusData><StatusData><StatusCode>TR</StatusCode><StatusDescription><![CDATA[Shipment In Transit.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160116</LocalEventDate><LocalEventTime format=\"HHMM\" >0755</LocalEventTime><Depot>SYD</Depot><DepotName><![CDATA[Sydney]]></DepotName></StatusData><StatusData><StatusCode>CI</StatusCode><StatusDescription><![CDATA[Shipment Received At Origin Depot.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160116</LocalEventDate><LocalEventTime format=\"HHMM\" >0556</LocalEventTime><Depot>SYD</Depot><DepotName><![CDATA[Sydney]]></DepotName></StatusData><StatusData><StatusCode>HW</StatusCode><StatusDescription><![CDATA[Shipment Arrived At Tnt Location]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160115</LocalEventDate><LocalEventTime format=\"HHMM\" >2013</LocalEventTime><Depot>SYD</Depot><DepotName><![CDATA[Sydney]]></DepotName></StatusData><StatusData><StatusCode>TR</StatusCode><StatusDescription><![CDATA[Shipment In Transit.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160115</LocalEventDate><LocalEventTime format=\"HHMM\" >2013</LocalEventTime><Depot>SYD</Depot><DepotName><![CDATA[Sydney]]></DepotName></StatusData><StatusData><StatusCode>AS</StatusCode><StatusDescription><![CDATA[Shipment Received At Transit Point.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160115</LocalEventDate><LocalEventTime format=\"HHMM\" >1857</LocalEventTime><Depot>SYD</Depot><DepotName><![CDATA[Sydney]]></DepotName></StatusData><StatusData><StatusCode>CI</StatusCode><StatusDescription><![CDATA[Shipment Received At Origin Depot.]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160115</LocalEventDate><LocalEventTime format=\"HHMM\" >1843</LocalEventTime><Depot>SYD</Depot><DepotName><![CDATA[Sydney]]></DepotName></StatusData><StatusData><StatusCode>PU</StatusCode><StatusDescription><![CDATA[Shipment Collected From Customer]]></StatusDescription><LocalEventDate format=\"YYYYMMDD\" >20160115</LocalEventDate><LocalEventTime format=\"HHMM\" >1451</LocalEventTime><Depot>SYD</Depot><DepotName><![CDATA[Sydney]]></DepotName></StatusData><PackageSummary><NumberOfPieces>4</NumberOfPieces><Weight units=\"kgs\" >49.000</Weight><PackageDescription><![CDATA[CARTON]]></PackageDescription><GoodsDescription><![CDATA[FAULTY USB]]></GoodsDescription><InvoiceAmount currency=\"AUD\" >1000.00</InvoiceAmount></PackageSummary><ShipmentSummary><TermsOfPayment>Sender</TermsOfPayment><DueDate format=\"YYYYMMDD\" >20160119</DueDate><Service><![CDATA[Economy Express]]></Service></ShipmentSummary><Addresses><Address addressParty=\"Receiver\"><Name><![CDATA[ROBIN ENERGY LTD.]]></Name><AddressLine><![CDATA[UNIT 704, LUCIA INDUSTRIAL BLD]]></AddressLine><AddressLine><![CDATA[43-47 WANG LUNG STREET]]></AddressLine><City><![CDATA[TSUEN WAN]]></City><Country><CountryCode>HK</CountryCode><CountryName><![CDATA[Hong Kong]]></CountryName></Country><PhoneNumber><![CDATA[+852950 07327]]></PhoneNumber><ContactName><![CDATA[VICTOR CHEUNG]]></ContactName><ContactPhoneNumber><![CDATA[+852950 07327]]></ContactPhoneNumber></Address><Address addressParty=\"Delivery\"><Name><![CDATA[ROBIN ENERGY LTD.]]></Name><AddressLine><![CDATA[UNIT 704, LUCIA INDUSTRIAL BLD]]></AddressLine><AddressLine><![CDATA[43-47 WANG LUNG STREET]]></AddressLine><City><![CDATA[TSUEN WAN]]></City><Country><CountryCode>HK</CountryCode><CountryName><![CDATA[Hong Kong]]></CountryName></Country><PhoneNumber><![CDATA[+852950 07327]]></PhoneNumber><ContactName><![CDATA[VICTOR CHEUNG]]></ContactName><ContactPhoneNumber><![CDATA[+852950 07327]]></ContactPhoneNumber></Address><Address addressParty=\"Sender\"><Name><![CDATA[BRAND PROMOTIONS PTY LTD]]></Name><AddressLine><![CDATA[SUITE 3]]></AddressLine><AddressLine><![CDATA[629 GARDENERS ROAD]]></AddressLine><City><![CDATA[MASCOT]]></City><Province><![CDATA[NEW SOUTH WALES]]></Province><Postcode><![CDATA[2020]]></Postcode><Country><CountryCode>AU</CountryCode><CountryName><![CDATA[Australia]]></CountryName></Country><PhoneNumber><![CDATA[0283457 822]]></PhoneNumber><ContactName><![CDATA[RITA LIU]]></ContactName><ContactPhoneNumber><![CDATA[0283457 822]]></ContactPhoneNumber><AccountNumber><![CDATA[30000859]]></AccountNumber></Address><Address addressParty=\"Collection\"><Name><![CDATA[BRAND PROMOTIONS PTY LTD]]></Name><AddressLine><![CDATA[SUITE 3]]></AddressLine><AddressLine><![CDATA[629 GARDENERS ROAD]]></AddressLine><City><![CDATA[MASCOT]]></City><Province><![CDATA[NEW SOUTH WALES]]></Province><Postcode><![CDATA[2020]]></Postcode><Country><CountryCode>AU</CountryCode><CountryName><![CDATA[Australia]]></CountryName></Country><PhoneNumber><![CDATA[0283457 822]]></PhoneNumber><ContactName><![CDATA[RITA LIU]]></ContactName><ContactPhoneNumber><![CDATA[0283457 822]]></ContactPhoneNumber></Address></Addresses><POD><![CDATA[https://images.tnt.com/archive?get&contRep=P1&docId=wzm3q5d4algvm5ieweruyyik1ioa3&pVersion=0045&accessMode=r&authId=ExpressConnect&expiration=20160118052101&secKey=MIIB3wYJKoZIhvcNAQcCoIIB0DCCAcwCAQExDjAMBggqhkiG9w0CBQUAMAsGCSqGSIb3DQEHATGCAagwggGkAgEBMIGjMIGbMRMwEQYDVQQGEwpBdGhlcnN0b25lMRMwEQYDVQQHEwpBdGhlcnN0b25lMSUwIwYDVQQKExxUTlQgRXhwcmVzc0Nvbm5lY3QgTGl2ZSAyMDExMQ4wDAYDVQQLEwVteVROVDEWMBQGA1UEAxMNUE9EIEltYWdlIEtleTEgMB4GCSqGSIb3DQEJARYRcmFqLmp1bGhhQHRudC5jb20CAwHAoTAMBggqhkiG9w0CBQUAoFkwGAYJKoZIhvcNAQkDMQsGCSqGSIb3DQEHATAcBgkqhkiG9w0BCQUxDxcNMTYwMTE4MDMyMTAxWjAfBgkqhkiG9w0BCQQxEgQQapJne15Pel9Fzk7fe2/soDANBgkqhkiG9w0BAQEFAASBgKNBLk6bYPKR15wd9mCYoWdSzEp/90EN688DYiwzbJqcorQ6tENn/a/WkTcjnmugkPPJxWbPPwG+MvGHYGmUdyQPrlXfF6fl+ks6jvpwFTj/ZW08F3ETcgojGc6e43nCOwmY46+BGtkX+f9geLZjPdxcBUydbv00nDvUgh5VmAtL]]></POD></Consignment></TrackResponse>";
        TrackResponse trackResponse = AppUtils.xmlString2Object(xmlTrackingRes, TrackResponse.class);
        System.out.println(trackResponse.getConsignment().get(0).getConsignmentNumber());
        // Label request parsing.
        String xmlLabelReq = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><labelRequest>	<consignment key=\"CON1\">		<consignmentIdentity>			<consignmentNumber>879058956</consignmentNumber>			<customerReference>Q1465-15 PO 3172</customerReference>		</consignmentIdentity>		<collectionDateTime>2016-01-18T00:00:00</collectionDateTime>		<sender>			<name>AUSTRALIAN FUEL CELLS</name>			<addressLine1>14/4 TRANSPORT PLACE</addressLine1>			<addressLine2>			</addressLine2>				<addressLine3>				</addressLine3>					<town>MOLENDINAR</town>					<province>QLD</province>					<postcode>4214</postcode>					<country>AU</country>				</sender>				<delivery>					<name>AERO TEC LABORATORIES</name>					<addressLine1>45 SPEAR ROAD</addressLine1>					<addressLine2>CORPORATE PARK</addressLine2>					<addressLine3>					</addressLine3>						<town>Ramsey</town>						<province>New Jersey</province>						<postcode>07446-1251</postcode>						<country>US</country>					</delivery>					<product>						<lineOfBusiness>2</lineOfBusiness>						<groupId>0</groupId>						<subGroupId>0</subGroupId>						<id>EX</id>						<type>N</type>					</product>					<account>						<accountNumber>30000859</accountNumber>						<accountCountry>AU</accountCountry>					</account>					<totalNumberOfPieces>1</totalNumberOfPieces>					<pieceLine>						<identifier>1</identifier>						<goodsDescription>Qty 3 car bladders</goodsDescription>						<pieceMeasurements>							<length>1.48</length>							<width>0.48</width>							<height>0.37</height>							<weight>15</weight>						</pieceMeasurements>						<pieces>							<sequenceNumbers>1</sequenceNumbers>							<pieceReference>Q1465-15 PO 3172</pieceReference>						</pieces>					</pieceLine>				</consignment>			</labelRequest>";
        LabelRequest labelRequest = AppUtils.xmlString2Object(xmlLabelReq, LabelRequest.class);
        System.out.println("Consignment Number: " + labelRequest.getConsignment().get(0).getConsignmentIdentity());
        // Label response parsing.
        String xmlLabelRes = "<?xml version=\"1.0\" encoding=\"UTF-8\"?><labelResponse>    <consignment key=\"CON1\">        <pieceLabelData>            <pieceNumber>1</pieceNumber>            <weightDisplay code=\"2.6\" renderInstructions=\"yes\">2.60kg</weightDisplay>            <pieceReference><![CDATA[FEI.26244/26286]]></pieceReference>            <barcode symbology=\"128C\">1100879057805012458424002100</barcode>            <twoDBarcode symbology=\"pdf417\"><![CDATA[879057805|879057805||1||ETERNUM S.A|CHAUSSEE DE TIRLEMONT 66|GEMBLOUX|5030|BE|||FOODSERVICE EQUIPMENT INTL PTY LTD|37 / 42-46 WATTLE ROAD|BROOKVALE|2100|AU||EX|N||||||||N|||CUTLERY|9|2.6|0.017499999999999998|N|18 Jan 2016|00:00:00]]></twoDBarcode>        </pieceLabelData>        <pieceLabelData>            <pieceNumber>2</pieceNumber>            <weightDisplay code=\"9.0\" renderInstructions=\"yes\">9.00kg</weightDisplay>            <pieceReference><![CDATA[FEI.26244/26286]]></pieceReference>            <barcode symbology=\"128C\">1100879057805022458424002100</barcode>            <twoDBarcode symbology=\"pdf417\"><![CDATA[879057805|879057805||2||ETERNUM S.A|CHAUSSEE DE TIRLEMONT 66|GEMBLOUX|5030|BE|||FOODSERVICE EQUIPMENT INTL PTY LTD|37 / 42-46 WATTLE ROAD|BROOKVALE|2100|AU||EX|N||||||||N|||CUTLERY|9|9.0|0.017499999999999998|N|18 Jan 2016|00:00:00]]></twoDBarcode>        </pieceLabelData>        <pieceLabelData>            <pieceNumber>3</pieceNumber>            <weightDisplay code=\"9.2\" renderInstructions=\"yes\">9.20kg</weightDisplay>            <pieceReference><![CDATA[FEI.26244/26286]]></pieceReference>            <barcode symbology=\"128C\">1100879057805032458424002100</barcode>            <twoDBarcode symbology=\"pdf417\"><![CDATA[879057805|879057805||3||ETERNUM S.A|CHAUSSEE DE TIRLEMONT 66|GEMBLOUX|5030|BE|||FOODSERVICE EQUIPMENT INTL PTY LTD|37 / 42-46 WATTLE ROAD|BROOKVALE|2100|AU||EX|N||||||||N|||CUTLERY|9|9.2|0.017499999999999998|N|18 Jan 2016|00:00:00]]></twoDBarcode>        </pieceLabelData>        <pieceLabelData>            <pieceNumber>4</pieceNumber>            <weightDisplay code=\"10.0\" renderInstructions=\"yes\">10.00kg</weightDisplay>            <pieceReference><![CDATA[FEI.26244/26286]]></pieceReference>            <barcode symbology=\"128C\">1100879057805042458424002100</barcode>            <twoDBarcode symbology=\"pdf417\"><![CDATA[879057805|879057805||4||ETERNUM S.A|CHAUSSEE DE TIRLEMONT 66|GEMBLOUX|5030|BE|||FOODSERVICE EQUIPMENT INTL PTY LTD|37 / 42-46 WATTLE ROAD|BROOKVALE|2100|AU||EX|N||||||||N|||CUTLERY|9|10.0|0.017499999999999998|N|18 Jan 2016|00:00:00]]></twoDBarcode>        </pieceLabelData>        <pieceLabelData>            <pieceNumber>5</pieceNumber>            <weightDisplay code=\"11.8\" renderInstructions=\"yes\">11.80kg</weightDisplay>            <pieceReference><![CDATA[FEI.26244/26286]]></pieceReference>            <barcode symbology=\"128C\">1100879057805052458424002100</barcode>            <twoDBarcode symbology=\"pdf417\"><![CDATA[879057805|879057805||5||ETERNUM S.A|CHAUSSEE DE TIRLEMONT 66|GEMBLOUX|5030|BE|||FOODSERVICE EQUIPMENT INTL PTY LTD|37 / 42-46 WATTLE ROAD|BROOKVALE|2100|AU||EX|N||||||||N|||CUTLERY|9|11.8|0.017499999999999998|N|18 Jan 2016|00:00:00]]></twoDBarcode>        </pieceLabelData>        <pieceLabelData>            <pieceNumber>6</pieceNumber>            <weightDisplay code=\"14.4\" renderInstructions=\"yes\">14.40kg</weightDisplay>            <pieceReference><![CDATA[FEI.26244/26286]]></pieceReference>            <barcode symbology=\"128C\">1100879057805062458424002100</barcode>            <twoDBarcode symbology=\"pdf417\"><![CDATA[879057805|879057805||6||ETERNUM S.A|CHAUSSEE DE TIRLEMONT 66|GEMBLOUX|5030|BE|||FOODSERVICE EQUIPMENT INTL PTY LTD|37 / 42-46 WATTLE ROAD|BROOKVALE|2100|AU||EX|N||||||||N|||CUTLERY|9|14.4|0.017499999999999998|N|18 Jan 2016|00:00:00]]></twoDBarcode>        </pieceLabelData>        <pieceLabelData>            <pieceNumber>7</pieceNumber>            <weightDisplay code=\"14.4\" renderInstructions=\"yes\">14.40kg</weightDisplay>            <pieceReference><![CDATA[FEI.26244/26286]]></pieceReference>            <barcode symbology=\"128C\">1100879057805072458424002100</barcode>            <twoDBarcode symbology=\"pdf417\"><![CDATA[879057805|879057805||7||ETERNUM S.A|CHAUSSEE DE TIRLEMONT 66|GEMBLOUX|5030|BE|||FOODSERVICE EQUIPMENT INTL PTY LTD|37 / 42-46 WATTLE ROAD|BROOKVALE|2100|AU||EX|N||||||||N|||CUTLERY|9|14.4|0.017499999999999998|N|18 Jan 2016|00:00:00]]></twoDBarcode>        </pieceLabelData>        <pieceLabelData>            <pieceNumber>8</pieceNumber>            <weightDisplay code=\"18.1\" renderInstructions=\"yes\">18.10kg</weightDisplay>            <pieceReference><![CDATA[FEI.26244/26286]]></pieceReference>            <barcode symbology=\"128C\">1100879057805082458424002100</barcode>            <twoDBarcode symbology=\"pdf417\"><![CDATA[879057805|879057805||8||ETERNUM S.A|CHAUSSEE DE TIRLEMONT 66|GEMBLOUX|5030|BE|||FOODSERVICE EQUIPMENT INTL PTY LTD|37 / 42-46 WATTLE ROAD|BROOKVALE|2100|AU||EX|N||||||||N|||CUTLERY|9|18.1|0.017499999999999998|N|18 Jan 2016|00:00:00]]></twoDBarcode>        </pieceLabelData>        <pieceLabelData>            <pieceNumber>9</pieceNumber>            <weightDisplay code=\"19.3\" renderInstructions=\"yes\">19.30kg</weightDisplay>            <pieceReference><![CDATA[FEI.26244/26286]]></pieceReference>            <barcode symbology=\"128C\">1100879057805092458424002100</barcode>            <twoDBarcode symbology=\"pdf417\"><![CDATA[879057805|879057805||9||ETERNUM S.A|CHAUSSEE DE TIRLEMONT 66|GEMBLOUX|5030|BE|||FOODSERVICE EQUIPMENT INTL PTY LTD|37 / 42-46 WATTLE ROAD|BROOKVALE|2100|AU||EX|N||||||||N|||CUTLERY|9|19.3|0.017499999999999998|N|18 Jan 2016|00:00:00]]></twoDBarcode>        </pieceLabelData>        <consignmentLabelData>            <consignmentNumber>879057805</consignmentNumber>            <sender>                <name><![CDATA[ETERNUM S.A]]></name>                <addressLine1><![CDATA[CHAUSSEE DE TIRLEMONT 66]]></addressLine1>                <addressLine2><![CDATA[]]></addressLine2>                <town><![CDATA[GEMBLOUX]]></town>                <province><![CDATA[]]></province>                <postcode><![CDATA[5030]]></postcode>                <country><![CDATA[BE]]></country>            </sender>            <delivery>                <name><![CDATA[FOODSERVICE EQUIPMENT INTL PTY LTD]]></name>                <addressLine1><![CDATA[37 / 42-46 WATTLE ROAD]]></addressLine1>                <addressLine2><![CDATA[]]></addressLine2>                <town><![CDATA[BROOKVALE]]></town>                <province><![CDATA[NSW]]></province>                <postcode><![CDATA[2100]]></postcode>                <country><![CDATA[AU]]></country>            </delivery>            <account>                <accountNumber>30000859</accountNumber>                <accountCountry>BE</accountCountry>            </account>            <totalNumberOfPieces>9</totalNumberOfPieces>            <product id=\"EX\">Express (ND)</product>            <collectionDate>2016-01-18</collectionDate>            <marketDisplay code=\"2\" renderInstructions=\"yes\"><![CDATA[INT]]></marketDisplay>            <transportDisplay code=\"1\" renderInstructions=\"yes\"><![CDATA[AIR]]></transportDisplay>            <freeCirculationDisplay code=\"\" renderInstructions=\"no\"/>            <sortSplitText><![CDATA[1]]></sortSplitText>            <xrayDisplay code=\"\" renderInstructions=\"yes\">X-RAY</xrayDisplay>            <originDepot>                <depotCode>BRU</depotCode>            </originDepot>            <transitDepots>                <transitDepot>                    <depotCode>BZQ</depotCode>                </transitDepot>                <sortDepot>                    <depotCode>LGG</depotCode>                    <sortCellIndicator code=\"\" renderInstructions=\"yes\">1</sortCellIndicator>                    <sortLocationCode>OTC</sortLocationCode>                </sortDepot>                <transitDepot>                    <depotCode>DXB</depotCode>                </transitDepot>                <transitDepot>                    <depotCode>SYD</depotCode>                </transitDepot>            </transitDepots>            <destinationDepot>                <depotCode>SW2</depotCode>                <dueDayOfMonth>21</dueDayOfMonth>                <dueDate>2016-01-21</dueDate>            </destinationDepot>            <microzone code=\"\" renderInstructions=\"no\"/>            <clusterCode>26</clusterCode>            <cashAmount code=\"0.0\" renderInstructions=\"no\"/>            <bulkShipment code=\"\" renderInstructions=\"no\"/>        </consignmentLabelData>    </consignment></labelResponse>";
        LabelResponse labelResponse = AppUtils.xmlString2Object(xmlLabelRes, LabelResponse.class);
        System.out.println("Consignment Piece Label Data Barcode: " + labelResponse.getConsignment().get(0).getPieceLabelData().get(0).getBarcode().getValue());
    }

    public static void parseResponse(Document response) {
        if (response.getERROR() != null && response.getERROR().size() > 0) {
            String errorMsg = "";
            for (Error error : response.getERROR()) {
                errorMsg += error.getCODE() + ":" + error.getDESCRIPTION() + "\n";
            }
            System.out.println(errorMsg);
        } else {
            System.out.println(response.getCREATE().get(0).getCONNUMBER());
        }
    }
}
